<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/jquery-ui.css">
    <script src="js/jquery-1.12.4.js"></script>
    <script src="jsjquery-ui.js"></script>
    <script src="js/jquerymin.js"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/bootstrap-theme.css"/>
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js" type="text/javascript"></script>
    <script src="js/bspage.js"></script>
    <style>
.colorgraph {
  height: 5px;
  border-top: 0;
  background: #c4e17f;
  border-radius: 5px;
  background-image: -webkit-linear-gradient(left, #c4e17f, #c4e17f 12.5%, #f7fdca 12.5%, #f7fdca 25%, #fecf71 25%, #fecf71 37.5%, #f0776c 37.5%, #f0776c 50%, #db9dbe 50%, #db9dbe 62.5%, #c49cde 62.5%, #c49cde 75%, #669ae1 75%, #669ae1 87.5%, #62c2e4 87.5%, #62c2e4);
  background-image: -moz-linear-gradient(left, #c4e17f, #c4e17f 12.5%, #f7fdca 12.5%, #f7fdca 25%, #fecf71 25%, #fecf71 37.5%, #f0776c 37.5%, #f0776c 50%, #db9dbe 50%, #db9dbe 62.5%, #c49cde 62.5%, #c49cde 75%, #669ae1 75%, #669ae1 87.5%, #62c2e4 87.5%, #62c2e4);
  background-image: -o-linear-gradient(left, #c4e17f, #c4e17f 12.5%, #f7fdca 12.5%, #f7fdca 25%, #fecf71 25%, #fecf71 37.5%, #f0776c 37.5%, #f0776c 50%, #db9dbe 50%, #db9dbe 62.5%, #c49cde 62.5%, #c49cde 75%, #669ae1 75%, #669ae1 87.5%, #62c2e4 87.5%, #62c2e4);
  background-image: linear-gradient(to right, #c4e17f, #c4e17f 12.5%, #f7fdca 12.5%, #f7fdca 25%, #fecf71 25%, #fecf71 37.5%, #f0776c 37.5%, #f0776c 50%, #db9dbe 50%, #db9dbe 62.5%, #c49cde 62.5%, #c49cde 75%, #669ae1 75%, #669ae1 87.5%, #62c2e4 87.5%, #62c2e4);
}

</style>
    <script>
  $( function() {
    $( document ).tooltip();
  } );
  </script>
    <script>
    function checksessionid(){
      var sessi = getCookie("id");
                if(sessi.length>69){
                  // return false;
                  window.location = "/register";
                }
                else {
                  // return true;
                  window.location = "/dashboard";
                }
    }
    function getCookie(cname) {
    var name = cname + "=";
    var ca = document.cookie.split(';');
        var c = ca[0];
        var c1 = c.split('=');
        return c1[1]+"=";
}
function setCookie(cname, cvalue, exdays) {
  document.cookie = cname + "=" + cvalue + ";";
}
    function check(){
      setCookie("ctime", "", 0);
    var fields = ["first_name", "last_name", "display_name", "email", "password", "password_confirmation"], i, focus=1;
        for(i=0; i<fields.length; i++){
            if(document.getElementById(fields[i]).value==""){
                alert("fill all the field");
                focus=0;
                document.getElementById(fields[i]).focus();
                break;
            }
        }
        if(focus==1){
            getsessionid();
        }
    }
    function getsessionid(){
        var studentdetails = JSON.stringify({"Name":document.getElementById("first_name").value,
        "RegisterNumber":document.getElementById("last_name").value,
        "Department":document.getElementById("display_name").value,
        "AcademicYear":parseInt(document.getElementById("email").value),
        "Year":parseInt(document.getElementById("password").value),
        "Semester":parseInt(document.getElementById("password_confirmation").value)
        });
        $.get("/login", { studentJson: studentdetails }, function(result){
            var sess = JSON.parse(result);
            if(sess.SessionId==""){
            alert("fill all the field");
            }
            else{
                 var t = new Date();
                 t.setTime(t.getTime() + 60*60*24);
                 var expire = "expire="+ t.toUTCString();
                //  alert(sess.SessionId);
                 document.cookie = "id=" + sess.SessionId + ";" + expire + ";";
                 window.location = "/dashboard";
            }
         });
    }
</script>
</head>
<body style="background-color:#E6E6FA;" onunload="checksessionid()">
<div class="container">

    <div class="row">
        <div class="col-xs-12 col-sm-8 col-md-6 col-sm-offset-2 col-md-offset-3">
            <!--<form role="form">-->
            <h2>Sign In</h2>
            <hr class="colorgraph">
            <div class="row">
                <div class="col-xs-12 col-sm-6 col-md-6">
                    <div class="form-group">
                        <input type="text" name="first_name" title="Enter Your Name" id="first_name" class="form-control input-lg" placeholder="Name" tabindex="1">
                    </div>
                </div>
                <div class="col-xs-12 col-sm-6 col-md-6">
                    <div class="form-group">
                        <input type="number" min="113200000000" title="Enter Your Register Number" max="113299999999" name="last_name" id="last_name" class="form-control input-lg" placeholder="RegisterNumber" tabindex="2">
                    </div>
                </div>
            </div>
            <div class="form-group">
                <input type="text" title="Enter Your Department" name="display_name" id="display_name" class="form-control input-lg" placeholder="Department" tabindex="3">
            </div>
            <div class="form-group">
                <input type="number" min="2000" max="2016" title="Enter Academic Year" name="email" id="email" class="form-control input-lg" placeholder="Academic Year" tabindex="4">
            </div>
            <div class="row">
                <div class="col-xs-12 col-sm-6 col-md-6">
                    <div class="form-group">
                        <input type="number" min="1" max="4" title="Enter Year 1,2,3,4" name="password" id="password" class="form-control input-lg" placeholder="Year" tabindex="5">
                    </div>
                </div>
                <div class="col-xs-12 col-sm-6 col-md-6">
                    <div class="form-group">
                        <input type="number" min="1" max="8" title="Enter Semester" name="password_confirmation" id="password_confirmation" class="form-control input-lg" placeholder="Semester" tabindex="6">
                    </div>
                </div>
            </div>

            <hr class="colorgraph">
            <div class="row">
                <div class="col-xs-12 col-md-6"><a onclick="check()" class="btn btn-success btn-block btn-lg">Sign In</a></div>
            </div>
            <!--</form>-->
        </div>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="t_and_c_m" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
                    <h4 class="modal-title" id="myModalLabel">Terms & Conditions</h4>
                </div>
                <div class="modal-body">
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Similique, itaque, modi, aliquam nostrum at sapiente consequuntur natus odio reiciendis perferendis rem nisi tempore possimus ipsa porro delectus quidem dolorem ad.</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Similique, itaque, modi, aliquam nostrum at sapiente consequuntur natus odio reiciendis perferendis rem nisi tempore possimus ipsa porro delectus quidem dolorem ad.</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Similique, itaque, modi, aliquam nostrum at sapiente consequuntur natus odio reiciendis perferendis rem nisi tempore possimus ipsa porro delectus quidem dolorem ad.</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Similique, itaque, modi, aliquam nostrum at sapiente consequuntur natus odio reiciendis perferendis rem nisi tempore possimus ipsa porro delectus quidem dolorem ad.</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Similique, itaque, modi, aliquam nostrum at sapiente consequuntur natus odio reiciendis perferendis rem nisi tempore possimus ipsa porro delectus quidem dolorem ad.</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Similique, itaque, modi, aliquam nostrum at sapiente consequuntur natus odio reiciendis perferendis rem nisi tempore possimus ipsa porro delectus quidem dolorem ad.</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Similique, itaque, modi, aliquam nostrum at sapiente consequuntur natus odio reiciendis perferendis rem nisi tempore possimus ipsa porro delectus quidem dolorem ad.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal">I Agree</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
</div>
</body>
</html>
